# DDL (Data Definition Language)

Praktikum Sistem Basis Data Modul 3

| Nama                | NRP        | Kelas | Asisten |
| ------------------- | ---------- | ----- | ------- |
| Ardhi Putra Pradana | 5027241022 | C     | NOPS    |

## DDL Query

```sql
CREATE DATABASE IF NOT EXISTS `NOPS-022`;

CREATE TABLE IF NOT EXISTS AKUN (
  ID_AKUN INT AUTO_INCREMENT PRIMARY KEY,
  NAMA_AKUN VARCHAR(100) NOT NULL UNIQUE,
  NO_TELEPON VARCHAR(20) NOT NULL UNIQUE,
  EMAIL VARCHAR(100) NOT NULL UNIQUE,
  PASSWORD VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS DRIVER (
  ID_DRIVER INT AUTO_INCREMENT PRIMARY KEY,
  NAMA_DRIVER VARCHAR(100) NOT NULL,
  PLAT_KENDARAAN VARCHAR(20) NOT NULL UNIQUE,
  RATING_DRIVER DECIMAL(3, 2) NOT NULL,

  CHECK (RATING_DRIVER >= 1.00 AND RATING_DRIVER <= 5.00)
);

CREATE TABLE IF NOT EXISTS MERCHANT (
  ID_MERCHANT INT AUTO_INCREMENT PRIMARY KEY,
  NAMA_MERCHANT VARCHAR(100) NOT NULL,
  RATING_MERCHANT DECIMAL(3, 2) NOT NULL,
  LOKASI_MERCHANT TEXT NOT NULL,

  CHECK (RATING_MERCHANT >= 1.00 AND RATING_MERCHANT <= 5.00)
);

CREATE TABLE IF NOT EXISTS PESANAN (
  ID_PESANAN INT AUTO_INCREMENT PRIMARY KEY,
  ID_AKUN INT NOT NULL,
  ID_MERCHANT INT NOT NULL,
  ID_DRIVER INT NOT NULL,
  TANGGAL_PEMESANAN DATETIME NOT NULL,

  FOREIGN KEY (ID_AKUN) REFERENCES AKUN(ID_AKUN),
  FOREIGN KEY (ID_MERCHANT) REFERENCES MERCHANT(ID_MERCHANT),
  FOREIGN KEY (ID_DRIVER) REFERENCES DRIVER(ID_DRIVER)
);

CREATE TABLE IF NOT EXISTS PEMBAYARAN (
  ID_PEMBAYARAN INT AUTO_INCREMENT PRIMARY KEY,
  ID_PESANAN INT NOT NULL UNIQUE,
  METODE_PEMBAYARAN ENUM('Cash', 'IT Pay') NOT NULL,

  FOREIGN KEY (ID_PESANAN) REFERENCES PESANAN(ID_PESANAN)
);
```
